
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <title>服务器任务状态报告命令pidstat的几个参数 | 杰克叔叔的IT实验室</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="pidstat 命令是报告Linux任务状态的一个工具。
pidstat 命令可以监控单个或多个由Linux内核所维护的进程情况（使用-p），也可以使用-T监控子线程。另外它还提供时间次数参数，例如每隔n秒刷新一次，运行m次，得到结果。">
<meta property="og:type" content="article">
<meta property="og:title" content="服务器任务状态报告命令pidstat的几个参数">
<meta property="og:url" content="https://github.com/jackywjj/jackywjj.github.io.git/2014/05/16/服务器任务状态报告命令pidstat的几个参数/index.html">
<meta property="og:site_name" content="杰克叔叔的IT实验室">
<meta property="og:description" content="pidstat 命令是报告Linux任务状态的一个工具。
pidstat 命令可以监控单个或多个由Linux内核所维护的进程情况（使用-p），也可以使用-T监控子线程。另外它还提供时间次数参数，例如每隔n秒刷新一次，运行m次，得到结果。">
<meta property="og:updated_time" content="2016-03-04T09:24:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="服务器任务状态报告命令pidstat的几个参数">
<meta name="twitter:description" content="pidstat 命令是报告Linux任务状态的一个工具。
pidstat 命令可以监控单个或多个由Linux内核所维护的进程情况（使用-p），也可以使用-T监控子线程。另外它还提供时间次数参数，例如每隔n秒刷新一次，运行m次，得到结果。">
  
    <link rel="alternative" href="/atom.xml" title="杰克叔叔的IT实验室" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
  

</head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <nav id="upper-nav" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <div class="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
          <a id="nav-github" class="nav-icon" href="https://github.com/jackywjj"></a>
        
      </div>
    </nav>
    <div id="header-title">
      
        <h1 id="blog-title-wrap">
          <a href="/" id="blog-title">杰克叔叔的IT实验室</a>
        </h1>
      
    </div>
    <nav id="main-nav">
      
        <a class="main-nav-link" href="/">Home</a>
      
        <a class="main-nav-link" href="/archives">Archives</a>
      
        <a class="main-nav-link" href="/about">About</a>
      
    </nav>
  </div>
</header>

    <div class="outer">
      <section id="main"><article id="post-服务器任务状态报告命令pidstat的几个参数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <h3 href="/2014/05/16/服务器任务状态报告命令pidstat的几个参数/" class="article-date">
  <time datetime="2014-05-16T04:04:57.000Z" itemprop="datePublished">2014-05-16</time>
</h3>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Server/">Server</a>
  </div>

  </div>
  <div class="article-inner">
  <div class="curve-down">
  <div class="fill-content">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      服务器任务状态报告命令pidstat的几个参数
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <p>pidstat 命令是报告Linux任务状态的一个工具。</p>
<p>pidstat 命令可以监控单个或多个由Linux内核所维护的进程情况（使用-p），也可以使用-T监控子线程。另外它还提供时间次数参数，例如每隔n秒刷新一次，运行m次，得到结果。<br><a id="more"></a></p>
<pre><code>-C comm
    Display only tasks whose command name includes the string comm.
</code></pre><p>显示某个名称的进程信息。</p>
<pre><code>-d  Report I/O statistics (kernels 2.6.20 and later only).  The following values are displayed:

    PID: The identification number of the task being monitored.

    kB_rd/s: Number of kilobytes the task has caused to be read from disk per second.

    kB_wr/s: Number of kilobytes the task has caused, or shall cause to be written to disk per second.

    kB_ccwr/s : Number  of  kilobytes  whose  writing  to  disk  has been cancelled by the task.
    This may occur when the task truncates some dirty pagecache.
    In this case, some IO which another task has been accounted for will not be happening.

    Command: The command name of the task.
</code></pre><p>报告I/O使用情况。</p>
<ul>
<li>PID为进程ID</li>
<li>kB_rd/s 磁盘读取速率</li>
<li>kB_wr/s 磁盘写入速率</li>
<li>kB_cowr/s 取消磁盘写入速率，减少脏页面缓存时会发生</li>
<li><p>Command 命令或应用名称</p>
<!---->
<p>  -h  Display all activities horizontally on a single line.<br>  This is intended to make it easier to be parsed by other programs.</p>
</li>
</ul>
<p>单行显示所有活动信息，方便其他程序读取</p>
<pre><code>-l  Display the process command name and all its arguments.
</code></pre><p>显示command的全名</p>
<pre><code>-p  { pid [,...] | SELF | ALL }
</code></pre><p>定制某个pid，或者本身，或者所有</p>
<pre><code>-r  Report page faults and memory utilization.

    When reporting statistics for individual tasks, the following values are displayed:

        PID: The identification number of the task being monitored.

        minflt/s: Total number of minor faults the task has made per second,
        those which have not required loading a memory page from disk.

        majflt/s: Total number of major faults the task has made per second,
        those which have required loading a memory page from disk.

        VSZ: Virtual Size: The virtual memory usage of entire task in kilobytes.

        RSS: Resident Set Size: The non-swapped physical memory used by the task in kilobytes.

        Command: The command name of the task.


    When reporting global statistics for tasks and all their children, the following values are displayed:

        PID: The identification number of the task which is being monitored together with its children.

        minflt-nr: Total number of minor faults made by the task and all its children,
        and collected during the interval of time.

        majflt-nr: Total number of major faults made by the task and all its children,
        and collected during the interval of time.

        Command: The command name of the task which is being monitored together with its children.
</code></pre><p>报告系统页错误信息。</p>
<p>当监控独立任务时，显示如下列:</p>
<ul>
<li>PID为进程ID</li>
<li>minflt/s 每秒次缺页错误次数(minor page faults)，次缺页错误次数意即虚拟内存地址映射成物理内存地址产生的page fault次数</li>
<li>majflt/s 每秒主缺页错误次数(major page faults)，当虚拟内存地址映射成物理内存地址时，相应的page在swap中，这样的page fault为major page fault，一般在内存使用紧张时产生</li>
<li>VSZ 该进程使用的虚拟内存(以kB为单位)</li>
<li>RSS 该进程使用的物理内存(以kB为单位)</li>
<li>Command 命令或应用名称</li>
</ul>
<p>当监控全局任务和子线程任务时， 显示如下列:</p>
<ul>
<li>PID为进程ID</li>
<li>minflt-nr 在指定的时间间隔内收集的进程和其子进程的次缺页错误次数</li>
<li>majflt-nr 在指定的时间间隔内收集的进程和其子进程的主缺页错误次数</li>
<li>Command 命令或应用名称</li>
</ul>
<!---->
<pre><code>-t  Also display statistics for threads associated with selected tasks.
</code></pre><p>显示所关联的线程。</p>
<pre><code>-T  { TASK | CHILD | ALL }
</code></pre><p>TASK是默认的，单个任务的报告。CHILD：指定的进程和他们的子进程的全局报告。ALL：相当于TASK和CHILD</p>
<pre><code>-u  Report CPU utilization.

    When reporting statistics for individual tasks, the following values are displayed:

        PID: The identification number of the task being monitored.

        %usr: Percentage of CPU used by the task while executing at the user level (application),
        with or without nice priority.
        Note that this field does NOT include time spent running a  virtual  processor.

        %system: Percentage of CPU used by the task while executing at the system level (kernel).

        %guest: Percentage of CPU spent by the task in virtual machine (running a virtual processor).

        %CPU: Total percentage of CPU time used by the task.
        In an SMP environment, the task’s CPU usage will be divided by the total number of CPU’s
        if option -I has been entered on the command line.

        CPU: Processor number to which the task is attached.

        Command: The command name of the task.

    When reporting global statistics for tasks and all their children, the following values are displayed:

        PID: The identification number of the task which is being monitored together with its children.

        usr-ms: Total  number of milliseconds spent by the task and all its children
        while executing at the user level (application),
        with or without nice priority, and collected during the interval of time.
        Note that this field does NOT include time spent running a virtual processor.

        system-ms: Total number of milliseconds spent by the task and all its children
        while executing at the system level (kernel), and collected during the interval of time.

        guest-ms: Total number of milliseconds spent by the task and all
        its children in virtual machine (running a virtual processor).

        Command: The command name of the task which is being monitored together with its children.
</code></pre><p>报告CPU利用率</p>
<p>当监控独立任务时，显示如下列:</p>
<ul>
<li>PID为进程ID</li>
<li>%usr 用户层任务正在使用的CPU百分比</li>
<li>%system 系统层正在执行的任务的CPU使用百分比</li>
<li>%guest 运行虚拟机的CPU占用百分比</li>
<li>%CPU 所有的使用的CPU的时间百分比</li>
<li>CPU 处理器数量</li>
<li>Command 命令或应用名称</li>
</ul>
<p>当监控全局任务和子线程任务时， 显示如下列:</p>
<ul>
<li>PID为进程ID</li>
<li>usr-ms 在指定时间内收集的在用户层执行的进程和它的子进程占用的CPU时间（毫秒）</li>
<li>system-ms 在指定时间内收集的在系统层执行的进程和它的子进程占用的CPU时间（毫秒）</li>
<li>guest-ms 花在虚拟机上的时间</li>
<li><p>Command 命令或应用名称</p>
<p>  -w  Report task switching activity (kernels 2.6.23 and later only).  The following values are displayed:</p>
<pre><code>PID: The identification number of the task being monitored.

cswch/s: Total number of voluntary context switches the task made per second.
A voluntary context switch occurs when a task blocks because it requires a resource that is unavailable.

nvcswch/s: Total number of non voluntary context switches the task made per second.
A involuntary context switch takes place when a task executes for the duration of its time slice and then  is  forced
to relinquish the processor.

Command
The command name of the task.
</code></pre></li>
</ul>
<p>报告任务切换</p>
<ul>
<li>PID为进程ID</li>
<li>cswch/s    每秒自动上下文切换</li>
<li>nvcswch/s 每秒非自愿的上下文切换</li>
<li>Command 命令或应用名称</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <div class="article-footer-content">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server/">Server</a></li></ul>

        <a data-url="https://github.com/jackywjj/jackywjj.github.io.git/2014/05/16/服务器任务状态报告命令pidstat的几个参数/" data-id="cixvfan0b003ezds67b0yfnvw" class="article-share-link">Share</a>
        
      </div>
    </footer>
  </div>
  </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/05/19/Python中的lambda和filter,reduce,map/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python中的lambda和filter,reduce,map
        
      </div>
    </a>
  
  
    <a href="/2014/05/15/服务器监控命令top的几个参数/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">服务器监控命令top的几个参数</div>
    </a>
  
</nav>

  
</article>


</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Server/">Server</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/全栈/">全栈</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a><span class="category-list-count">9</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-Linux/">CentOS Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Doophp-PHP/">Doophp PHP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux-Samba/">Linux Samba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP-XHProf/">PHP XHProf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server-Nginx/">Server Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/产品/">产品</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/产品-开发-需求/">产品 开发 需求</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/其他/">其他</a><span class="tag-list-count">8</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://gcluo.github.io/" target="_blank">葱鸽的博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Jacky Wu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/sun11/hexo-theme-paperbox" target="_blank">Paperbox</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
  <a href="#search" class="mobile-nav-link st-search-show-outputs">Search</a>
</nav>
  

<!-- totop start -->
<div id="totop">
	<a title="To Top"></a>
</div>
<!-- totop end -->

<!-- swiftype search start -->

<!-- swiftype search end -->



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/lrsjng.jquery-qrcode/0.12.0/jquery.qrcode.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
